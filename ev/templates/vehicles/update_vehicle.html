{% extends "main.html" %}
{% load static %}
{% load bootstrap4 %}

{% block content %}
  <h3>Update vehicle</h3>
  <br>

  <form  action="{% url 'vehicle-update' vehicle.pk %}" method="post">
    {% csrf_token %}
    <div class="form-group row">
      <label class="col-md-2 col-form-label" for="id_vehicle_id">Vehicle Id</label>
      <div class="col-md-3">
        <input type="text" name="vehicle_id" maxlength="50" class="form-control" value="{{vehicle.vehicle_id}}" placeholder="Vehicle Id" title="" required="" id="id_vehicle_id">

      </div>
    </div>

    <div class="form-group row">
      <label class="col-md-2 col-form-label" for="id_make">Make</label>
      <div class="col-md-3">
        <input type="text" name="make" maxlength="50" class="form-control" value="{{vehicle.make}}" placeholder="Vehicle Id" title="" required="" id="id_make">
      </div>
    </div>

    <div class="form-group row">
      <label class="col-md-2 col-form-label" for="id_model">Model</label>
      <div class="col-md-3">
        <input type="text" name="model" maxlength="50" class="form-control" value="{{vehicle.model}}" placeholder="Vehicle Id" title="" required="" id="id_model">
      </div>
    </div>

    <div class="form-group row">
      <label class="col-md-2 col-form-label" for="id_battery_id">Battery</label>
      <div class="col-md-3">
        {{form.battery_id}}
      </div>
    </div>

    <div class="form-group row">
      <label class="col-md-2 col-form-label" for="id_device">Device</label>
      <div class="col-md-3">
        {{form.device}}
      </div>
    </div>

    <div class="form-group row">
      <label class="col-md-2 col-form-label" for="id_year">Year</label>
      <div class="col-md-3">
        <input type="text" name="year" maxlength="50" class="form-control" value="{{vehicle.year}}" placeholder="Vehicle Id" title="" required="" id="id_year">
      </div>
    </div>

    <div class="form-group row">
      <label class="col-md-2 col-form-label" for="id_tag">Tag</label>
      <div class="col-md-3">
        <input type="text" name="tag" maxlength="50" class="form-control" value="{{vehicle.tag}}" placeholder="Vehicle Id" title="" required="" id="id_tag">
      </div>
    </div>

    
    <div class="form-group row">
      <label class="col-md-2 col-form-label" for="id_vin_number">VIN Number</label>
      <div class="col-md-3">
        <input type="text" name="vin_number" maxlength="50" class="form-control" value="{{vehicle.vin_number}}" placeholder="vin_number" title="" required="" id="vin_number">
      </div>
    </div>



      <div class="form-group row">
        <div class="col-md-1">
          <button type="submit" name="button" value="update" class="btn btn-primary">Update</button>
        </div>

        <div class="btn btn-danger">
          <a href="{% url 'vehicle-delete' vehicle.id %}" class="deletelink" style="text-decoration: none;color: #fff;">Delete</a>
        </div>
      </div>


  </form>
<br>

<script type="text/javascript" src="{% static 'admin/js/vendor/jquery/jquery.js' %}"></script>

{{ form.media }}



<script>

(function($) {
  console.log("hell")
    $('#add-form').click(function() {
        var index = $('#id_inline_test_models-TOTAL_FORMS').val()
        var newTable = $('#id_inline_test_models-__prefix__-DELETE').parents('table').clone()
        newTable.find(':input').each(function() {
            for (attr of ['name', 'id'])
                $(this).attr(
                    attr,
                    $(this).attr(attr).replace('__prefix__', index)
                )
        })
        newTable.insertBefore($(this))
        $('#id_inline_test_models-TOTAL_FORMS').val(
            parseInt($('#id_inline_test_models-TOTAL_FORMS').val()) + 1
        )
        newTable.slideDown()
    })



})($)
</script>

<script type="text/javascript">
  $(document).ready(function() {
    console.log("yoooo")
    var auto = document.getElementsByClassName("select2-selection__rendered");
    console.log(auto.length)
    for (var i = 0; i < auto.length; i++) {
      auto[i].style.lineHeight = '16px';
      console.log("lol");
    }
  });
</script>

{% endblock %}
